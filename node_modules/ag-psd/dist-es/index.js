import { writePsd as writePsdInternal, getWriterBuffer, createWriter } from './psdWriter';
import { readPsd as readPsdInternal, createReader } from './psdReader';
export { initializeCanvas } from './helpers';
export { ColorMode, ChannelID, Compression, SectionDividerType } from './psd';
export function readPsd(buffer, options) {
    var reader = 'buffer' in buffer ?
        createReader(buffer.buffer, buffer.byteOffset, buffer.byteLength) :
        createReader(buffer);
    return readPsdInternal(reader, options);
}
export function writePsd(psd, options) {
    var writer = createWriter();
    writePsdInternal(writer, psd, options);
    return getWriterBuffer(writer);
}
export function writePsdBuffer(psd, options) {
    if (typeof Buffer === 'undefined') {
        throw new Error('Buffer not supported on this platform');
    }
    return new Buffer(writePsd(psd, options));
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBYSxRQUFRLElBQUksZ0JBQWdCLEVBQUUsZUFBZSxFQUFFLFlBQVksRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNyRyxPQUFPLEVBQWEsT0FBTyxJQUFJLGVBQWUsRUFBRSxZQUFZLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDbEYsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQzdDLE9BQU8sRUFDTixTQUFTLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxrQkFBa0IsRUFHckQsTUFBTSxPQUFPLENBQUM7QUFTZixNQUFNLFVBQVUsT0FBTyxDQUFDLE1BQWdDLEVBQUUsT0FBcUI7SUFDOUUsSUFBTSxNQUFNLEdBQUcsUUFBUSxJQUFJLE1BQU0sQ0FBQyxDQUFDO1FBQ2xDLFlBQVksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDbkUsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RCLE9BQU8sZUFBZSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUN6QyxDQUFDO0FBRUQsTUFBTSxVQUFVLFFBQVEsQ0FBQyxHQUFRLEVBQUUsT0FBc0I7SUFDeEQsSUFBTSxNQUFNLEdBQUcsWUFBWSxFQUFFLENBQUM7SUFDOUIsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN2QyxPQUFPLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNoQyxDQUFDO0FBRUQsTUFBTSxVQUFVLGNBQWMsQ0FBQyxHQUFRLEVBQUUsT0FBc0I7SUFDOUQsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLEVBQUU7UUFDbEMsTUFBTSxJQUFJLEtBQUssQ0FBQyx1Q0FBdUMsQ0FBQyxDQUFDO0tBQ3pEO0lBRUQsT0FBTyxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDM0MsQ0FBQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBzZCwgUmVhZE9wdGlvbnMsIFdyaXRlT3B0aW9ucyB9IGZyb20gJy4vcHNkJztcbmltcG9ydCB7IFBzZFdyaXRlciwgd3JpdGVQc2QgYXMgd3JpdGVQc2RJbnRlcm5hbCwgZ2V0V3JpdGVyQnVmZmVyLCBjcmVhdGVXcml0ZXIgfSBmcm9tICcuL3BzZFdyaXRlcic7XG5pbXBvcnQgeyBQc2RSZWFkZXIsIHJlYWRQc2QgYXMgcmVhZFBzZEludGVybmFsLCBjcmVhdGVSZWFkZXIgfSBmcm9tICcuL3BzZFJlYWRlcic7XG5leHBvcnQgeyBpbml0aWFsaXplQ2FudmFzIH0gZnJvbSAnLi9oZWxwZXJzJztcbmV4cG9ydCB7XG5cdENvbG9yTW9kZSwgQ2hhbm5lbElELCBDb21wcmVzc2lvbiwgU2VjdGlvbkRpdmlkZXJUeXBlLCBDb2xvciwgTGF5ZXJFZmZlY3RzU2hhZG93SW5mbywgTGF5ZXJFZmZlY3RzT3V0ZXJHbG93SW5mbyxcblx0TGF5ZXJFZmZlY3RzSW5uZXJHbG93SW5mbywgTGF5ZXJFZmZlY3RzQmV2ZWxJbmZvLCBMYXllckVmZmVjdHNTb2xpZEZpbGxJbmZvLCBMYXllckVmZmVjdHNJbmZvLCBMYXllckFkZGl0aW9uYWxJbmZvLFxuXHRSZXNvbHV0aW9uVW5pdCwgU2l6ZVVuaXQsIEltYWdlUmVzb3VyY2VzLCBMYXllciwgUHNkLCBSZWFkT3B0aW9ucywgV3JpdGVPcHRpb25zXG59IGZyb20gJy4vcHNkJztcbmV4cG9ydCB7IFBzZFJlYWRlciwgUHNkV3JpdGVyIH07XG5cbmludGVyZmFjZSBCdWZmZXJMaWtlIHtcblx0YnVmZmVyOiBBcnJheUJ1ZmZlcjtcblx0Ynl0ZU9mZnNldDogbnVtYmVyO1xuXHRieXRlTGVuZ3RoOiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkUHNkKGJ1ZmZlcjogQXJyYXlCdWZmZXIgfCBCdWZmZXJMaWtlLCBvcHRpb25zPzogUmVhZE9wdGlvbnMpOiBQc2Qge1xuXHRjb25zdCByZWFkZXIgPSAnYnVmZmVyJyBpbiBidWZmZXIgP1xuXHRcdGNyZWF0ZVJlYWRlcihidWZmZXIuYnVmZmVyLCBidWZmZXIuYnl0ZU9mZnNldCwgYnVmZmVyLmJ5dGVMZW5ndGgpIDpcblx0XHRjcmVhdGVSZWFkZXIoYnVmZmVyKTtcblx0cmV0dXJuIHJlYWRQc2RJbnRlcm5hbChyZWFkZXIsIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVQc2QocHNkOiBQc2QsIG9wdGlvbnM/OiBXcml0ZU9wdGlvbnMpOiBBcnJheUJ1ZmZlciB7XG5cdGNvbnN0IHdyaXRlciA9IGNyZWF0ZVdyaXRlcigpO1xuXHR3cml0ZVBzZEludGVybmFsKHdyaXRlciwgcHNkLCBvcHRpb25zKTtcblx0cmV0dXJuIGdldFdyaXRlckJ1ZmZlcih3cml0ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVQc2RCdWZmZXIocHNkOiBQc2QsIG9wdGlvbnM/OiBXcml0ZU9wdGlvbnMpOiBCdWZmZXIge1xuXHRpZiAodHlwZW9mIEJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlciBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgcGxhdGZvcm0nKTtcblx0fVxuXG5cdHJldHVybiBuZXcgQnVmZmVyKHdyaXRlUHNkKHBzZCwgb3B0aW9ucykpO1xufVxuIl0sInNvdXJjZVJvb3QiOiJEOlxcUHJvamVjdHNcXGdpdGh1YlxcYWctcHNkXFxzcmMifQ==
