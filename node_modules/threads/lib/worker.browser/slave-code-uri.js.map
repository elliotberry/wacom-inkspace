{"version":3,"sources":["worker.browser/slave-code-uri.js"],"names":["slaveCodeDataUri","encodeURI","createBlobURL","window","createObjectURL","URL","webkitURL","Error","BlobBuilder","blobBuilder","append","getBlob","Blob","blob","type"],"mappings":";;;;AAAA;;;;;;AAEA,IAAIA,mBAAmB,wCAAwCC,8BAA/D;AACA,IAAIC,gBAAgBC,OAAOD,aAAP,IAAwBC,OAAOC,eAAnD;;AAEA,IAAI,CAACF,aAAL,EAAoB;AAClB,MAAMG,MAAMF,OAAOE,GAAP,IAAcF,OAAOG,SAAjC;;AAEA,MAAID,GAAJ,EAAS;AACPH,oBAAgBG,IAAID,eAApB;AACD,GAFD,MAEO;AACL,UAAM,IAAIG,KAAJ,CAAU,wCAAV,CAAN;AACD;AACF;;AAED,IAAI,OAAOJ,OAAOK,WAAd,KAA8B,UAA9B,IAA4C,OAAON,aAAP,KAAyB,UAAzE,EAAqF;AACnF,MAAMO,cAAc,IAAIN,OAAOK,WAAX,EAApB;AACAC,cAAYC,MAAZ;AACAV,qBAAmBE,cAAcO,YAAYE,OAAZ,EAAd,CAAnB;AACD,CAJD,MAIO,IAAI,OAAOR,OAAOS,IAAd,KAAuB,UAAvB,IAAqC,OAAOV,aAAP,KAAyB,UAAlE,EAA8E;AACnF,MAAMW,OAAO,IAAIV,OAAOS,IAAX,CAAgB,qBAAhB,EAA+B,EAAEE,MAAM,iBAAR,EAA/B,CAAb;AACAd,qBAAmBE,cAAcW,IAAd,CAAnB;AACD;;kBAEcb,gB","file":"slave-code-uri.js","sourcesContent":["import slaveCode from './slave-code';\n\nlet slaveCodeDataUri = 'data:text/javascript;charset=utf-8,' + encodeURI(slaveCode);\nlet createBlobURL = window.createBlobURL || window.createObjectURL;\n\nif (!createBlobURL) {\n  const URL = window.URL || window.webkitURL;\n\n  if (URL) {\n    createBlobURL = URL.createObjectURL;\n  } else {\n    throw new Error('No Blob creation implementation found.');\n  }\n}\n\nif (typeof window.BlobBuilder === 'function' && typeof createBlobURL === 'function') {\n  const blobBuilder = new window.BlobBuilder();\n  blobBuilder.append(slaveCode);\n  slaveCodeDataUri = createBlobURL(blobBuilder.getBlob());\n} else if (typeof window.Blob === 'function' && typeof createBlobURL === 'function') {\n  const blob = new window.Blob([ slaveCode ], { type: 'text/javascript' });\n  slaveCodeDataUri = createBlobURL(blob);\n}\n\nexport default slaveCodeDataUri;\n"]}